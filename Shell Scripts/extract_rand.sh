#!/bin/bash

find ../DADOS1/esouza/Datasets/compressed/90%/ -mindepth 1 -maxdepth 1 -type d -exec sh -c 'out_filename=$(echo "{}" | rev | cut -d'/' -f1 | rev); python extractlayeroutput.py "{}" ../DADOS1/esouza/Datasets/extracted/fc2/90%/$(echo $out_filename)_rand fc2 ../DADOS1/esouza/Networks/vgg16_rand.h5' \; > ../DADOS1/esouza/Logs/Extraction/extract_rand/90%_log.txt 2> ../DADOS1/esouza/Logs/Extraction/extract_rand/90%_errlog.txt
find ../DADOS1/esouza/Datasets/compressed/70%/ -mindepth 1 -maxdepth 1 -type d -exec sh -c 'out_filename=$(echo "{}" | rev | cut -d'/' -f1 | rev); python extractlayeroutput.py "{}" ../DADOS1/esouza/Datasets/extracted/fc2/70%/$(echo $out_filename)_rand fc2 ../DADOS1/esouza/Networks/vgg16_rand.h5' \; > ../DADOS1/esouza/Logs/Extraction/extract_rand/70%_log.txt 2> ../DADOS1/esouza/Logs/Extraction/extract_rand/70%_errlog.txt
find ../DADOS1/esouza/Datasets/compressed/50%/ -mindepth 1 -maxdepth 1 -type d -exec sh -c 'out_filename=$(echo "{}" | rev | cut -d'/' -f1 | rev); python extractlayeroutput.py "{}" ../DADOS1/esouza/Datasets/extracted/fc2/50%/$(echo $out_filename)_rand fc2 ../DADOS1/esouza/Networks/vgg16_rand.h5' \; > ../DADOS1/esouza/Logs/Extraction/extract_rand/50%_log.txt 2> ../DADOS1/esouza/Logs/Extraction/extract_rand/50%_errlog.txt
find ../DADOS1/esouza/Datasets/compressed/30%/ -mindepth 1 -maxdepth 1 -type d -exec sh -c 'out_filename=$(echo "{}" | rev | cut -d'/' -f1 | rev); python extractlayeroutput.py "{}" ../DADOS1/esouza/Datasets/extracted/fc2/30%/$(echo $out_filename)_rand fc2 ../DADOS1/esouza/Networks/vgg16_rand.h5' \; > ../DADOS1/esouza/Logs/Extraction/extract_rand/30%_log.txt 2> ../DADOS1/esouza/Logs/Extraction/extract_rand/30%_errlog.txt
find ../DADOS1/esouza/Datasets/compressed/10%/ -mindepth 1 -maxdepth 1 -type d -exec sh -c 'out_filename=$(echo "{}" | rev | cut -d'/' -f1 | rev); python extractlayeroutput.py "{}" ../DADOS1/esouza/Datasets/extracted/fc2/10%/$(echo $out_filename)_rand fc2 ../DADOS1/esouza/Networks/vgg16_rand.h5' \; > ../DADOS1/esouza/Logs/Extraction/extract_rand/10%_log.txt 2> ../DADOS1/esouza/Logs/Extraction/extract_rand/10%_errlog.txt
find ../DADOS1/esouza/Datasets/classified/ -mindepth 1 -maxdepth 1 -type d -exec sh -c 'out_filename=$(echo "{}" | rev | cut -d'/' -f1 | rev); python extractlayeroutput.py "{}" ../DADOS1/esouza/Datasets/extracted/fc2/uncompressed/$(echo $out_filename)_rand fc2 ../DADOS1/esouza/Networks/vgg16_rand.h5' \; > ../DADOS1/esouza/Logs/Extraction/extract_rand/uncompressed_log.txt 2> ../DADOS1/esouza/Logs/Extraction/extract_rand/uncompressed_errlog.txt